{% extends 'base.html' %}

{% block catalog %}active{% endblock catalog %}
{% block title %}Catalog{% endblock title %}

{% block content %}
<div class="container-fluid my-5">
    <h1 class="text-center page-title mb-5">Catalog</h1>
    <div class="row">
        <div class="filter-container col-3">
            <h4 class="text-center">Filters</h4>
            <form method="get">
                <div class="mb-3 row">
                    <label for="name" class="col-2 col-form-label">Name</label>
                    <div class="col-10">
                        <input type="text" name="name" id="name" class="form-control" value="">
                    </div>
                </div>
                <!--
                <div>
                    <input type="checkbox" name="chkComputer" id="chkComputer" class="form-check-input me-2" value="computer">
                    <label for="chkComputer" class="form-label">Computer</label>
                </div>
                <div>
                    <input type="checkbox" name="chkElectronics" id="chkElectronics" class="form-check-input me-2" value="electronics">
                    <label for="chkElectronics" class="form-label">Electronics</label>
                </div>
                <div>
                    <input type="checkbox" name="chkGaming" id="chkGaming" class="form-check-input me-2" value="gaming">
                    <label for="chkGaming" class="form-label">Gaming</label>
                </div>
                <div>
                    <input type="checkbox" name="chkOffice" id="chkOffice" class="form-check-input me-2" value="office">
                    <label for="chkOffice" class="form-label">Office</label>
                </div>
                <div>
                    <input type="checkbox" name="chkNetworking" id="chkNetworking" class="form-check-input me-2" value="networking">
                    <label for="chkNetworking" class="form-label">Networking</label>
                </div>
                <div>
                    <input type="checkbox" name="chkTheater" id="chkTheater" class="form-check-input me-2" value="theater">
                    <label for="chkTheater" class="form-label">Theater</label>
                </div>
                <div>
                    <input type="checkbox" name="chkToys" id="chkToys" class="form-check-input me-2" value="toys">
                    <label for="chkToys" class="form-label">Toys</label>
                </div>
                <div>
                    <input type="checkbox" name="chkSoftware" id="chkSoftware" class="form-check-input me-2" value="software">
                    <label for="chkSoftware" class="form-label">Software</label>
                </div>
                <div>
                    <input type="checkbox" name="chkAudioVideo" id="chkAudioVideo" class="form-check-input me-2" value="audio & video">
                    <label for="chkAudioVideo" class="form-label">Audio & Video</label>
                </div>
                -->
                <div class="mb-3 row">
                    <label for="category" class="col-2 col-form-label">Category</label>
                    <div class="col-10">
                        <select class="form-select" aria-label="Select category" name="category" id="category">
                            <option selected value="">All</option>
                            <option value="computer">Computer</option>
                            <option value="electronics">Electronics</option>
                            <option value="gaming">Gaming</option>
                            <option value="office">Office</option>
                            <option value="networking">Networking</option>
                            <option value="theater">Theater</option>
                            <option value="toys">Toys</option>
                            <option value="software">Software</option>
                            <option value="audio & video">Audio & Video</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="order" class="col-4 col-form-label">Order by price</label>
                    <div class="col-8">
                        <select class="form-select" aria-label="Select order" name="order" id="order">
                            <option selected value="">No</option>
                            <option value="price">Ascending</option>
                            <option value="-price">Descending</option>
                        </select>
                    </div>
                </div>
                <input type="submit" value="Filter" class="w-100 btn btn-success text-center">
            </form>
        </div>
        <div class="products-container col-9">
            {% if product_list %}
                {% for product in page_obj %}
                    <div class="product-card row mb-3 py-3">
                        <div class="product-image-container col-3">
                            <img src="{{ product.image.url }}" alt="{{ product.product_name }}">
                        </div>
                        <div class="col-8">
                            <div class="row">
                                <div class="col">
                                    <h2 class="product-name"><a class="text-reset" href="{% url 'product_detail' product.id %}">{{ product.product_name }}</a></h4>
                                    <h6>{{ product.get_category_display }}</h6>
                                    <p class="text-muted">{{ product.description }}</p>
                                </div>
                                <div class="col">
                                    <h3>${{ product.price }}</h6>
                                    <button class="btn btn-outline-warning">Add to cart</button>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>

    <div class="mt-5">
        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                {% if page_obj.has_previous %}
                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
                {% else %}
                    <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
                {% endif %}
    
                {% for page in page_obj.paginator %}
                    <li class="page-item"><a class="page-link" href="?page={{ page.number }}">{{ page.number }}</a></li>
                {% endfor %}
    
                {% if page_obj.has_next %}
                    <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
                {% else %}
                    <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>
{% endblock content %}